const { GoogleGenerativeAI } = require("@google/generative-ai");

const apiKey = "AIzaSyC_iWtIEf3_hVszZXyxRbY6a8Q3Du09a1k";
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 0,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};
export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan from Location: Las Vegas to Location: Los Angeles for 3 days for Couple with a Cheap Budget, Suggest itinerary with placeName, PlaceDetails, PlaceImageUrl, Geo Coordinates, ticket pricing, Time to travel each of the location for 3 days with each day plan with best time to visit and give me a Hotels option list with HotelName,Hotel Address, Price, hotel Image Url, geo coordinates, rating, descriptions and  in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a JSON format travel plan for a budget-conscious couple traveling from Las Vegas to Los Angeles over 3 days.  This prioritizes affordability, but still aims for a fun experience.\n\n```json\n{\n  "tripDetails": {\n    "origin": "Las Vegas, NV",\n    "destination": "Los Angeles, CA",\n    "duration": "3 Days",\n    "budget": "Cheap",\n      "travelers": "Couple"\n  },\n  "hotels": [\n    {\n      "hotelName": "The Hollywood Roosevelt",\n       "hotelAddress": "7000 Hollywood Blvd, Los Angeles, CA 90028",\n      "price": "$180 - $300 per night",\n      "hotelImageUrl": "https://example.com/hollywoodroosevelt.jpg",\n      "geoCoordinates": { "latitude": 34.1017, "longitude": -118.3404 },\n       "rating": 4.4,\n        "descriptions": "Historic hotel with a pool and multiple bars and restaurants located on the Hollywood Walk of Fame"\n    },\n     {\n        "hotelName": "Freehand Los Angeles",\n       "hotelAddress": "416 W 8th St, Los Angeles, CA 90014",\n      "price": "$160 - $250 per night",\n        "hotelImageUrl": "https://example.com/freehandla.jpg",\n      "geoCoordinates": { "latitude": 34.0438, "longitude": -118.2594 },\n      "rating": 4.5,\n        "descriptions": "Stylish hotel with a rooftop pool and multiple dining options in downtown LA."\n\n    },\n    {\n        "hotelName": "Mama Shelter Los Angeles",\n       "hotelAddress": "6500 Selma Ave, Los Angeles, CA 90028",\n      "price":"$150 - $250 per night",\n       "hotelImageUrl": "https://example.com/mamashelterla.jpg",\n        "geoCoordinates": { "latitude": 34.1014, "longitude": -118.3305 },\n       "rating": 4.3,\n       "descriptions": "Trendy hotel in Hollywood with a vibrant rooftop bar and restaurant"\n\n    },\n    {\n      "hotelName": "Airbnb - Private Room or Apartment",\n      "hotelAddress": "Various locations in LA",\n      "price": "$80 - $150 per night",\n      "hotelImageUrl": "https://example.com/genericairbnb.jpg",\n      "geoCoordinates": { "latitude": "Variable", "longitude": "Variable" },\n       "rating": "Variable",\n        "descriptions":"Search for private rooms or full apartments on Airbnb in neighborhoods that match your budget and preferences. Be sure to check ratings and reviews."\n    }\n\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Travel Day & Hollywood Exploration",\n      "bestTimeToVisit": "Afternoon and Evening",\n      "plan": [\n        {\n          "placeName": "Drive from Las Vegas to Los Angeles",\n           "placeDetails": "The drive takes approximately 4-5 hours, depending on traffic. Stock up on snacks and water before you leave to save money. Consider stopping at outlet malls or other attractions along the way if you have time and interest.",\n          "placeImageUrl": "https://example.com/drivingla.jpg",\n           "geoCoordinates": { "latitude": 36.1699, "longitude": -115.1398 },\n           "ticketPricing": "Free (gas costs)",\n           "travelTime": "4-5 hours"\n        },\n\n        {\n          "placeName": "Hollywood Walk of Fame",\n           "placeDetails": "Stroll along the iconic Hollywood Walk of Fame, spotting your favorite celebrities\' stars. It\'s free and fun for people watching. Look for handprints and footprints at the TCL Chinese Theatre (formerly Grauman\'s Chinese Theatre).",\n           "placeImageUrl": "https://example.com/hollywoodwalk.jpg",\n          "geoCoordinates": { "latitude": 34.1017, "longitude": -118.3404 },\n           "ticketPricing": "Free",\n           "travelTime": "Afternoon"\n\n        },\n\n         {\n          "placeName":"Griffith Observatory",\n            "placeDetails":"Enjoy panoramic views of the city, the Hollywood Sign, and the stars (if you\'re there at night). The observatory has exhibits and telescopes that are free to visit. Parking can be challenging and itâ€™s recommended to use Uber/Lyft or public transportation.",\n           "placeImageUrl":"https://example.com/griffith.jpg",\n            "geoCoordinates":{"latitude":34.1185, "longitude":-118.3004},\n            "ticketPricing":"Free (parking fee may apply)",\n             "travelTime":"Evening"\n           }\n\n\n      ]\n    },\n    "day2": {\n      "theme": "Beach Day & Santa Monica Fun",\n      "bestTimeToVisit": "Daytime",\n      "plan": [\n         {\n          "placeName": "Santa Monica Pier & Beach",\n           "placeDetails": "Walk along the famous Santa Monica Pier, enjoy the rides (additional cost), or just soak in the views of the Pacific Ocean. Stroll on the beach, collect seashells or simply relax.",\n           "placeImageUrl": "https://example.com/santamonica.jpg",\n          "geoCoordinates": { "latitude": 34.0099, "longitude": -118.4960 },\n           "ticketPricing": "Free (rides and food cost extra)",\n           "travelTime": "Morning to Afternoon"\n        },\n         {\n          "placeName": "3rd Street Promenade",\n           "placeDetails":"Walk around this pedestrian shopping area, do window shopping and watch street performers. Grab some affordable lunch here.",\n           "placeImageUrl": "https://example.com/3rdstreet.jpg",\n           "geoCoordinates": { "latitude": 34.0195, "longitude": -118.4956 },\n          "ticketPricing":"Free",\n            "travelTime":"Afternoon"\n         },\n        {\n          "placeName": "Venice Beach & Boardwalk",\n          "placeDetails": "Experience the colorful and eccentric Venice Beach boardwalk. Enjoy street performers, artists, and Muscle Beach. People-watching here is a must.",\n          "placeImageUrl": "https://example.com/venicebeach.jpg",\n          "geoCoordinates": { "latitude": 33.9850, "longitude": -118.4695 },\n          "ticketPricing": "Free",\n           "travelTime": "Late Afternoon"\n        }\n\n      ]\n    },\n     "day3": {\n        "theme":"Museum & Departure",\n          "bestTimeToVisit":"Morning",\n        "plan": [\n          {\n             "placeName":"The Getty Center",\n            "placeDetails":"Visit the Getty Center (free admission, but parking fee), a beautiful art museum with gardens and panoramic city views. It houses European paintings, drawings, sculptures, illuminated manuscripts, and decorative arts.",\n            "placeImageUrl":"https://example.com/getty.jpg",\n            "geoCoordinates":{ "latitude": 34.0781, "longitude": -118.4752 },\n           "ticketPricing":"Free (parking fee)",\n             "travelTime": "Morning"\n          },\n\n          {\n            "placeName":"Explore a Local Neighborhood",\n            "placeDetails":" Depending on your flight time, spend some time in a local neighborhood like Little Tokyo or Los Feliz. Grab a final cheap bite to eat and take in the different vibes before heading home.",\n            "placeImageUrl":"https://example.com/localhood.jpg",\n            "geoCoordinates":"Variable (depending on the neighborhood)",\n           "ticketPricing":"Variable",\n            "travelTime":"Afternoon"\n        },\n          {\n          "placeName": "Departure from Los Angeles",\n           "placeDetails":"Head to the airport for your flight home.",\n           "placeImageUrl": "https://example.com/laairport.jpg",\n            "geoCoordinates": { "latitude": 33.9416, "longitude": -118.4079 },\n           "ticketPricing": "Free",\n           "travelTime": "Travel home"\n        }\n\n        ]\n      }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Hotel Prices:** These are estimates. Prices can fluctuate significantly based on the time of year, day of the week, and booking platform. Check multiple sites and be flexible with your travel dates.\n*   **Airbnb:**  If you opt for Airbnb, make sure to research your neighborhood carefully for safety and accessibility.\n*   **Food Budget:**  Look for affordable options like taco trucks, street food, and grocery stores for some meals.\n*  **Transportation:** This plan assumes you are driving. If you aren\'t driving you will need to consider rental cars, rideshares or public transportation costs which will impact your budget.\n*   **Flexibility:** This is a suggested itinerary. Be flexible and adjust it based on your interests and budget.\n*   **Image URLs:** The image URLs in this response are placeholders. Replace them with actual image URLs when you build your app or website.\n*   **Geo Coordinates:** Geo coordinates are included to enable mapping and location services within your application.\n\nThis JSON structure should be a good starting point to build your application! Let me know if you have any other questions.\n',
        },
      ],
    },
  ],
});
